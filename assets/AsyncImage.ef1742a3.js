import{r as s,j as g,c as S}from"./index.2dc549d4.js";function m(e){s.exports.useEffect(e,[])}function w(e,a="0px"){const[u,o]=s.exports.useState(!1);return m(()=>{const t=window.IntersectionObserver?new IntersectionObserver(([n])=>{o(n.isIntersecting)},{rootMargin:a}):o(!0);e.current&&t&&t.observe(e.current);const r=e.current;return()=>{r&&t&&t.unobserve(r)}}),u}const I="_wrap_2odjg_1",L="_isLoaded_2odjg_6",x={wrap:I,isLoaded:L},b="/no-image.jpg",_=({src:e,alt:a,width:u,height:o,className:t})=>{const[r,n]=s.exports.useState(!1),[f,p]=s.exports.useState(!1),[c,i]=s.exports.useState(),d=s.exports.useRef(null),l=w(d,"100px");return s.exports.useEffect(()=>{l&&c!==e&&e!==""&&i(e)},[l,c,i,e]),s.exports.useEffect(()=>{f&&!r&&i(b)},[f,r]),g("img",{src:c,ref:d,alt:a,width:u,height:o,className:S(x.wrap,{[x.isLoaded]:r},t),onLoad:()=>{p(!1),n(!0)},onError:()=>{n(!1),p(!0)}},c)};export{_ as A};
