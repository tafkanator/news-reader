import{T as X,i as S,b as Z,d as oe,e as ce,f as ue,S as he,K as c,O as I,g as le,r as x,h as ee,k as y,R as pe,l as de,m as fe,n as $,N as C,o as Ee,p as P,q as ve,s as me,_ as G,t as M,u as ye,A as xe}from"./index.2dc549d4.js";function be(n){return typeof n=="object"&&n!==null}function Ne(n,e){if(!Boolean(n))throw new Error(e!=null?e:"Unexpected invariant triggered.")}const ge=/\r\n|[\n\r]/g;function V(n,e){let t=0,i=1;for(const s of n.body.matchAll(ge)){if(typeof s.index=="number"||Ne(!1),s.index>=e)break;t=s.index+s[0].length,i+=1}return{line:i,column:e+1-t}}function ke(n){return te(n.source,V(n.source,n.start))}function te(n,e){const t=n.locationOffset.column-1,i="".padStart(t)+n.body,s=e.line-1,r=n.locationOffset.line-1,o=e.line+r,u=e.line===1?t:0,h=e.column+u,l=`${n.name}:${o}:${h}
`,p=i.split(/\r\n|[\n\r]/g),d=p[s];if(d.length>120){const m=Math.floor(h/80),N=h%80,E=[];for(let k=0;k<d.length;k+=80)E.push(d.slice(k,k+80));return l+K([[`${o} |`,E[0]],...E.slice(1,m+1).map(k=>["|",k]),["|","^".padStart(N)],["|",E[m+1]]])}return l+K([[`${o-1} |`,p[s-1]],[`${o} |`,d],["|","^".padStart(h)],[`${o+1} |`,p[s+1]]])}function K(n){const e=n.filter(([i,s])=>s!==void 0),t=Math.max(...e.map(([i])=>i.length));return e.map(([i,s])=>i.padStart(t)+(s?" "+s:"")).join(`
`)}function Oe(n){const e=n[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:n[1],positions:n[2],path:n[3],originalError:n[4],extensions:n[5]}:e}class q extends Error{constructor(e,...t){var i,s,r;const{nodes:o,source:u,positions:h,path:l,originalError:p,extensions:d}=Oe(t);super(e),this.name="GraphQLError",this.path=l!=null?l:void 0,this.originalError=p!=null?p:void 0,this.nodes=Y(Array.isArray(o)?o:o?[o]:void 0);const m=Y((i=this.nodes)===null||i===void 0?void 0:i.map(E=>E.loc).filter(E=>E!=null));this.source=u!=null?u:m==null||(s=m[0])===null||s===void 0?void 0:s.source,this.positions=h!=null?h:m==null?void 0:m.map(E=>E.start),this.locations=h&&u?h.map(E=>V(u,E)):m==null?void 0:m.map(E=>V(E.source,E.start));const N=be(p==null?void 0:p.extensions)?p==null?void 0:p.extensions:void 0;this.extensions=(r=d!=null?d:N)!==null&&r!==void 0?r:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),p!=null&&p.stack?Object.defineProperty(this,"stack",{value:p.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,q):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const t of this.nodes)t.loc&&(e+=`

`+ke(t.loc));else if(this.source&&this.locations)for(const t of this.locations)e+=`

`+te(this.source,t);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function Y(n){return n===void 0||n.length===0?void 0:n}function v(n,e,t){return new q(`Syntax Error: ${t}`,{source:n,positions:[e]})}var Q;(function(n){n.QUERY="QUERY",n.MUTATION="MUTATION",n.SUBSCRIPTION="SUBSCRIPTION",n.FIELD="FIELD",n.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",n.FRAGMENT_SPREAD="FRAGMENT_SPREAD",n.INLINE_FRAGMENT="INLINE_FRAGMENT",n.VARIABLE_DEFINITION="VARIABLE_DEFINITION",n.SCHEMA="SCHEMA",n.SCALAR="SCALAR",n.OBJECT="OBJECT",n.FIELD_DEFINITION="FIELD_DEFINITION",n.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",n.INTERFACE="INTERFACE",n.UNION="UNION",n.ENUM="ENUM",n.ENUM_VALUE="ENUM_VALUE",n.INPUT_OBJECT="INPUT_OBJECT",n.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Q||(Q={}));var a;(function(n){n.SOF="<SOF>",n.EOF="<EOF>",n.BANG="!",n.DOLLAR="$",n.AMP="&",n.PAREN_L="(",n.PAREN_R=")",n.SPREAD="...",n.COLON=":",n.EQUALS="=",n.AT="@",n.BRACKET_L="[",n.BRACKET_R="]",n.BRACE_L="{",n.PIPE="|",n.BRACE_R="}",n.NAME="Name",n.INT="Int",n.FLOAT="Float",n.STRING="String",n.BLOCK_STRING="BlockString",n.COMMENT="Comment"})(a||(a={}));class _e{constructor(e){const t=new X(a.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==a.EOF)do if(e.next)e=e.next;else{const t=Ae(this,e.end);e.next=t,t.prev=e,e=t}while(e.kind===a.COMMENT);return e}}function Te(n){return n===a.BANG||n===a.DOLLAR||n===a.AMP||n===a.PAREN_L||n===a.PAREN_R||n===a.SPREAD||n===a.COLON||n===a.EQUALS||n===a.AT||n===a.BRACKET_L||n===a.BRACKET_R||n===a.BRACE_L||n===a.PIPE||n===a.BRACE_R}function O(n){return n>=0&&n<=55295||n>=57344&&n<=1114111}function F(n,e){return ne(n.charCodeAt(e))&&se(n.charCodeAt(e+1))}function ne(n){return n>=55296&&n<=56319}function se(n){return n>=56320&&n<=57343}function g(n,e){const t=n.source.body.codePointAt(e);if(t===void 0)return a.EOF;if(t>=32&&t<=126){const i=String.fromCodePoint(t);return i==='"'?`'"'`:`"${i}"`}return"U+"+t.toString(16).toUpperCase().padStart(4,"0")}function f(n,e,t,i,s){const r=n.line,o=1+t-n.lineStart;return new X(e,t,i,r,o,s)}function Ae(n,e){const t=n.source.body,i=t.length;let s=e;for(;s<i;){const r=t.charCodeAt(s);switch(r){case 65279:case 9:case 32:case 44:++s;continue;case 10:++s,++n.line,n.lineStart=s;continue;case 13:t.charCodeAt(s+1)===10?s+=2:++s,++n.line,n.lineStart=s;continue;case 35:return Ie(n,s);case 33:return f(n,a.BANG,s,s+1);case 36:return f(n,a.DOLLAR,s,s+1);case 38:return f(n,a.AMP,s,s+1);case 40:return f(n,a.PAREN_L,s,s+1);case 41:return f(n,a.PAREN_R,s,s+1);case 46:if(t.charCodeAt(s+1)===46&&t.charCodeAt(s+2)===46)return f(n,a.SPREAD,s,s+3);break;case 58:return f(n,a.COLON,s,s+1);case 61:return f(n,a.EQUALS,s,s+1);case 64:return f(n,a.AT,s,s+1);case 91:return f(n,a.BRACKET_L,s,s+1);case 93:return f(n,a.BRACKET_R,s,s+1);case 123:return f(n,a.BRACE_L,s,s+1);case 124:return f(n,a.PIPE,s,s+1);case 125:return f(n,a.BRACE_R,s,s+1);case 34:return t.charCodeAt(s+1)===34&&t.charCodeAt(s+2)===34?Le(n,s):De(n,s)}if(S(r)||r===45)return Ce(n,s,r);if(Z(r))return Fe(n,s);throw v(n.source,s,r===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:O(r)||F(t,s)?`Unexpected character: ${g(n,s)}.`:`Invalid character: ${g(n,s)}.`)}return f(n,a.EOF,i,i)}function Ie(n,e){const t=n.source.body,i=t.length;let s=e+1;for(;s<i;){const r=t.charCodeAt(s);if(r===10||r===13)break;if(O(r))++s;else if(F(t,s))s+=2;else break}return f(n,a.COMMENT,e,s,t.slice(e+1,s))}function Ce(n,e,t){const i=n.source.body;let s=e,r=t,o=!1;if(r===45&&(r=i.charCodeAt(++s)),r===48){if(r=i.charCodeAt(++s),S(r))throw v(n.source,s,`Invalid number, unexpected digit after 0: ${g(n,s)}.`)}else s=U(n,s,r),r=i.charCodeAt(s);if(r===46&&(o=!0,r=i.charCodeAt(++s),s=U(n,s,r),r=i.charCodeAt(s)),(r===69||r===101)&&(o=!0,r=i.charCodeAt(++s),(r===43||r===45)&&(r=i.charCodeAt(++s)),s=U(n,s,r),r=i.charCodeAt(s)),r===46||Z(r))throw v(n.source,s,`Invalid number, expected digit but got: ${g(n,s)}.`);return f(n,o?a.FLOAT:a.INT,e,s,i.slice(e,s))}function U(n,e,t){if(!S(t))throw v(n.source,e,`Invalid number, expected digit but got: ${g(n,e)}.`);const i=n.source.body;let s=e+1;for(;S(i.charCodeAt(s));)++s;return s}function De(n,e){const t=n.source.body,i=t.length;let s=e+1,r=s,o="";for(;s<i;){const u=t.charCodeAt(s);if(u===34)return o+=t.slice(r,s),f(n,a.STRING,e,s+1,o);if(u===92){o+=t.slice(r,s);const h=t.charCodeAt(s+1)===117?t.charCodeAt(s+2)===123?Re(n,s):Se(n,s):we(n,s);o+=h.value,s+=h.size,r=s;continue}if(u===10||u===13)break;if(O(u))++s;else if(F(t,s))s+=2;else throw v(n.source,s,`Invalid character within String: ${g(n,s)}.`)}throw v(n.source,s,"Unterminated string.")}function Re(n,e){const t=n.source.body;let i=0,s=3;for(;s<12;){const r=t.charCodeAt(e+s++);if(r===125){if(s<5||!O(i))break;return{value:String.fromCodePoint(i),size:s}}if(i=i<<4|T(r),i<0)break}throw v(n.source,e,`Invalid Unicode escape sequence: "${t.slice(e,e+s)}".`)}function Se(n,e){const t=n.source.body,i=H(t,e+2);if(O(i))return{value:String.fromCodePoint(i),size:6};if(ne(i)&&t.charCodeAt(e+6)===92&&t.charCodeAt(e+7)===117){const s=H(t,e+8);if(se(s))return{value:String.fromCodePoint(i,s),size:12}}throw v(n.source,e,`Invalid Unicode escape sequence: "${t.slice(e,e+6)}".`)}function H(n,e){return T(n.charCodeAt(e))<<12|T(n.charCodeAt(e+1))<<8|T(n.charCodeAt(e+2))<<4|T(n.charCodeAt(e+3))}function T(n){return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:-1}function we(n,e){const t=n.source.body;switch(t.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw v(n.source,e,`Invalid character escape sequence: "${t.slice(e,e+2)}".`)}function Le(n,e){const t=n.source.body,i=t.length;let s=n.lineStart,r=e+3,o=r,u="";const h=[];for(;r<i;){const l=t.charCodeAt(r);if(l===34&&t.charCodeAt(r+1)===34&&t.charCodeAt(r+2)===34){u+=t.slice(o,r),h.push(u);const p=f(n,a.BLOCK_STRING,e,r+3,oe(h).join(`
`));return n.line+=h.length-1,n.lineStart=s,p}if(l===92&&t.charCodeAt(r+1)===34&&t.charCodeAt(r+2)===34&&t.charCodeAt(r+3)===34){u+=t.slice(o,r),o=r+1,r+=4;continue}if(l===10||l===13){u+=t.slice(o,r),h.push(u),l===13&&t.charCodeAt(r+1)===10?r+=2:++r,u="",o=r,s=r;continue}if(O(l))++r;else if(F(t,r))r+=2;else throw v(n.source,r,`Invalid character within String: ${g(n,r)}.`)}throw v(n.source,r,"Unterminated string.")}function Fe(n,e){const t=n.source.body,i=t.length;let s=e+1;for(;s<i;){const r=t.charCodeAt(s);if(ce(r))++s;else break}return f(n,a.NAME,e,s,t.slice(e,s))}function Pe(n,e){return new Me(n,e).parseDocument()}class Me{constructor(e,t={}){const i=ue(e)?e:new he(e);this._lexer=new _e(i),this._options=t,this._tokenCounter=0}parseName(){const e=this.expectToken(a.NAME);return this.node(e,{kind:c.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:c.DOCUMENT,definitions:this.many(a.SOF,this.parseDefinition,a.EOF)})}parseDefinition(){if(this.peek(a.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===a.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw v(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(a.BRACE_L))return this.node(e,{kind:c.OPERATION_DEFINITION,operation:I.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let i;return this.peek(a.NAME)&&(i=this.parseName()),this.node(e,{kind:c.OPERATION_DEFINITION,operation:t,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(a.NAME);switch(e.value){case"query":return I.QUERY;case"mutation":return I.MUTATION;case"subscription":return I.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(a.PAREN_L,this.parseVariableDefinition,a.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:c.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(a.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(a.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(a.DOLLAR),this.node(e,{kind:c.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:c.SELECTION_SET,selections:this.many(a.BRACE_L,this.parseSelection,a.BRACE_R)})}parseSelection(){return this.peek(a.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let i,s;return this.expectOptionalToken(a.COLON)?(i=t,s=this.parseName()):s=t,this.node(e,{kind:c.FIELD,alias:i,name:s,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(a.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(a.PAREN_L,t,a.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,i=this.parseName();return this.expectToken(a.COLON),this.node(t,{kind:c.ARGUMENT,name:i,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(a.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(a.NAME)?this.node(e,{kind:c.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:c.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:c.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:c.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case a.BRACKET_L:return this.parseList(e);case a.BRACE_L:return this.parseObject(e);case a.INT:return this.advanceLexer(),this.node(t,{kind:c.INT,value:t.value});case a.FLOAT:return this.advanceLexer(),this.node(t,{kind:c.FLOAT,value:t.value});case a.STRING:case a.BLOCK_STRING:return this.parseStringLiteral();case a.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:c.BOOLEAN,value:!0});case"false":return this.node(t,{kind:c.BOOLEAN,value:!1});case"null":return this.node(t,{kind:c.NULL});default:return this.node(t,{kind:c.ENUM,value:t.value})}case a.DOLLAR:if(e)if(this.expectToken(a.DOLLAR),this._lexer.token.kind===a.NAME){const i=this._lexer.token.value;throw v(this._lexer.source,t.start,`Unexpected variable "$${i}" in constant value.`)}else throw this.unexpected(t);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:c.STRING,value:e.value,block:e.kind===a.BLOCK_STRING})}parseList(e){const t=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:c.LIST,values:this.any(a.BRACKET_L,t,a.BRACKET_R)})}parseObject(e){const t=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:c.OBJECT,fields:this.any(a.BRACE_L,t,a.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,i=this.parseName();return this.expectToken(a.COLON),this.node(t,{kind:c.OBJECT_FIELD,name:i,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(a.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(a.AT),this.node(t,{kind:c.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(a.BRACKET_L)){const i=this.parseTypeReference();this.expectToken(a.BRACKET_R),t=this.node(e,{kind:c.LIST_TYPE,type:i})}else t=this.parseNamedType();return this.expectOptionalToken(a.BANG)?this.node(e,{kind:c.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:c.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(a.STRING)||this.peek(a.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const i=this.parseConstDirectives(),s=this.many(a.BRACE_L,this.parseOperationTypeDefinition,a.BRACE_R);return this.node(e,{kind:c.SCHEMA_DEFINITION,description:t,directives:i,operationTypes:s})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(a.COLON);const i=this.parseNamedType();return this.node(e,{kind:c.OPERATION_TYPE_DEFINITION,operation:t,type:i})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const i=this.parseName(),s=this.parseConstDirectives();return this.node(e,{kind:c.SCALAR_TYPE_DEFINITION,description:t,name:i,directives:s})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const i=this.parseName(),s=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:c.OBJECT_TYPE_DEFINITION,description:t,name:i,interfaces:s,directives:r,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(a.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(a.BRACE_L,this.parseFieldDefinition,a.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),i=this.parseName(),s=this.parseArgumentDefs();this.expectToken(a.COLON);const r=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:c.FIELD_DEFINITION,description:t,name:i,arguments:s,type:r,directives:o})}parseArgumentDefs(){return this.optionalMany(a.PAREN_L,this.parseInputValueDef,a.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),i=this.parseName();this.expectToken(a.COLON);const s=this.parseTypeReference();let r;this.expectOptionalToken(a.EQUALS)&&(r=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:c.INPUT_VALUE_DEFINITION,description:t,name:i,type:s,defaultValue:r,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const i=this.parseName(),s=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:c.INTERFACE_TYPE_DEFINITION,description:t,name:i,interfaces:s,directives:r,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const i=this.parseName(),s=this.parseConstDirectives(),r=this.parseUnionMemberTypes();return this.node(e,{kind:c.UNION_TYPE_DEFINITION,description:t,name:i,directives:s,types:r})}parseUnionMemberTypes(){return this.expectOptionalToken(a.EQUALS)?this.delimitedMany(a.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const i=this.parseName(),s=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();return this.node(e,{kind:c.ENUM_TYPE_DEFINITION,description:t,name:i,directives:s,values:r})}parseEnumValuesDefinition(){return this.optionalMany(a.BRACE_L,this.parseEnumValueDefinition,a.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),i=this.parseEnumValueName(),s=this.parseConstDirectives();return this.node(e,{kind:c.ENUM_VALUE_DEFINITION,description:t,name:i,directives:s})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw v(this._lexer.source,this._lexer.token.start,`${D(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const i=this.parseName(),s=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();return this.node(e,{kind:c.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:i,directives:s,fields:r})}parseInputFieldsDefinition(){return this.optionalMany(a.BRACE_L,this.parseInputValueDef,a.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===a.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),i=this.optionalMany(a.BRACE_L,this.parseOperationTypeDefinition,a.BRACE_R);if(t.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:c.SCHEMA_EXTENSION,directives:t,operationTypes:i})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),i=this.parseConstDirectives();if(i.length===0)throw this.unexpected();return this.node(e,{kind:c.SCALAR_TYPE_EXTENSION,name:t,directives:i})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),r=this.parseFieldsDefinition();if(i.length===0&&s.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:c.OBJECT_TYPE_EXTENSION,name:t,interfaces:i,directives:s,fields:r})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),r=this.parseFieldsDefinition();if(i.length===0&&s.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:c.INTERFACE_TYPE_EXTENSION,name:t,interfaces:i,directives:s,fields:r})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),i=this.parseConstDirectives(),s=this.parseUnionMemberTypes();if(i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:c.UNION_TYPE_EXTENSION,name:t,directives:i,types:s})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),i=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();if(i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:c.ENUM_TYPE_EXTENSION,name:t,directives:i,values:s})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),i=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();if(i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:c.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:i,fields:s})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(a.AT);const i=this.parseName(),s=this.parseArgumentDefs(),r=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:c.DIRECTIVE_DEFINITION,description:t,name:i,arguments:s,repeatable:r,locations:o})}parseDirectiveLocations(){return this.delimitedMany(a.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(Q,t.value))return t;throw this.unexpected(e)}node(e,t){return this._options.noLocation!==!0&&(t.loc=new le(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw v(this._lexer.source,t.start,`Expected ${ie(e)}, found ${D(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const t=this._lexer.token;if(t.kind===a.NAME&&t.value===e)this.advanceLexer();else throw v(this._lexer.source,t.start,`Expected "${e}", found ${D(t)}.`)}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===a.NAME&&t.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const t=e!=null?e:this._lexer.token;return v(this._lexer.source,t.start,`Unexpected ${D(t)}.`)}any(e,t,i){this.expectToken(e);const s=[];for(;!this.expectOptionalToken(i);)s.push(t.call(this));return s}optionalMany(e,t,i){if(this.expectOptionalToken(e)){const s=[];do s.push(t.call(this));while(!this.expectOptionalToken(i));return s}return[]}many(e,t,i){this.expectToken(e);const s=[];do s.push(t.call(this));while(!this.expectOptionalToken(i));return s}delimitedMany(e,t){this.expectOptionalToken(e);const i=[];do i.push(t.call(this));while(this.expectOptionalToken(e));return i}advanceLexer(){const{maxTokens:e}=this._options,t=this._lexer.advance();if(e!==void 0&&t.kind!==a.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw v(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function D(n){const e=n.value;return ie(n.kind)+(e!=null?` "${e}"`:"")}function ie(n){return Te(n)?`"${n}"`:n}var w=function(){return w=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},w.apply(this,arguments)},R=new Map,j=new Map,re=!0,L=!1;function ae(n){return n.replace(/[\s,]+/g," ").trim()}function Ue(n){return ae(n.source.body.substring(n.start,n.end))}function Be(n){var e=new Set,t=[];return n.definitions.forEach(function(i){if(i.kind==="FragmentDefinition"){var s=i.name.value,r=Ue(i.loc),o=j.get(s);o&&!o.has(r)?re&&console.warn("Warning: fragment with name "+s+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):o||j.set(s,o=new Set),o.add(r),e.has(r)||(e.add(r),t.push(i))}else t.push(i)}),w(w({},n),{definitions:t})}function Ve(n){var e=new Set(n.definitions);e.forEach(function(i){i.loc&&delete i.loc,Object.keys(i).forEach(function(s){var r=i[s];r&&typeof r=="object"&&e.add(r)})});var t=n.loc;return t&&(delete t.startToken,delete t.endToken),n}function Qe(n){var e=ae(n);if(!R.has(e)){var t=Pe(n,{experimentalFragmentVariables:L,allowLegacyFragmentVariables:L});if(!t||t.kind!=="Document")throw new Error("Not a valid GraphQL document.");R.set(e,Ve(Be(t)))}return R.get(e)}function A(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];typeof n=="string"&&(n=[n]);var i=n[0];return e.forEach(function(s,r){s&&s.kind==="Document"?i+=s.loc.source.body:i+=s,i+=n[r+1]}),Qe(i)}function je(){R.clear(),j.clear()}function qe(){re=!1}function $e(){L=!0}function Ge(){L=!1}var _={gql:A,resetCaches:je,disableFragmentWarnings:qe,enableExperimentalFragmentVariables:$e,disableExperimentalFragmentVariables:Ge};(function(n){n.gql=_.gql,n.resetCaches=_.resetCaches,n.disableFragmentWarnings=_.disableFragmentWarnings,n.enableExperimentalFragmentVariables=_.enableExperimentalFragmentVariables,n.disableExperimentalFragmentVariables=_.disableExperimentalFragmentVariables})(A||(A={}));A.default=A;function Ke(n){var e=x.exports.useContext(ee()),t=n||e.client;return __DEV__?y(!!t,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClient instance in via options.'):y(!!t,31),t}var W=!1,Ye="useSyncExternalStore",He=pe[Ye],We=He||function(n,e,t){var i=e();__DEV__&&!W&&i!==e()&&(W=!0,__DEV__&&y.error("The result of getSnapshot should be cached to avoid an infinite loop"));var s=x.exports.useState({inst:{value:i,getSnapshot:e}}),r=s[0].inst,o=s[1];return de?x.exports.useLayoutEffect(function(){Object.assign(r,{value:i,getSnapshot:e}),B(r)&&o({inst:r})},[n,i,e]):Object.assign(r,{value:i,getSnapshot:e}),x.exports.useEffect(function(){return B(r)&&o({inst:r}),n(function(){B(r)&&o({inst:r})})},[n]),i};function B(n){var e=n.value,t=n.getSnapshot;try{return e!==t()}catch{return!0}}var b;(function(n){n[n.Query=0]="Query",n[n.Mutation=1]="Mutation",n[n.Subscription=2]="Subscription"})(b||(b={}));var z=new Map;function J(n){var e;switch(n){case b.Query:e="Query";break;case b.Mutation:e="Mutation";break;case b.Subscription:e="Subscription";break}return e}function ze(n){var e=z.get(n);if(e)return e;var t,i,s;__DEV__?y(!!n&&!!n.kind,"Argument of ".concat(n," passed to parser was not a valid GraphQL ")+"DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):y(!!n&&!!n.kind,32);for(var r=[],o=[],u=[],h=[],l=0,p=n.definitions;l<p.length;l++){var d=p[l];if(d.kind==="FragmentDefinition"){r.push(d);continue}if(d.kind==="OperationDefinition")switch(d.operation){case"query":o.push(d);break;case"mutation":u.push(d);break;case"subscription":h.push(d);break}}__DEV__?y(!r.length||o.length||u.length||h.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):y(!r.length||o.length||u.length||h.length,33),__DEV__?y(o.length+u.length+h.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+"".concat(n," had ").concat(o.length," queries, ").concat(h.length," ")+"subscriptions and ".concat(u.length," mutations. ")+"You can use 'compose' to join multiple operation types to a component"):y(o.length+u.length+h.length<=1,34),i=o.length?b.Query:b.Mutation,!o.length&&!u.length&&(i=b.Subscription);var m=o.length?o:u.length?u:h;__DEV__?y(m.length===1,"react-apollo only supports one definition per HOC. ".concat(n," had ")+"".concat(m.length," definitions. ")+"You can use 'compose' to join multiple operation types to a component"):y(m.length===1,35);var N=m[0];t=N.variableDefinitions||[],N.name&&N.name.kind==="Name"?s=N.name.value:s="data";var E={name:s,type:i,variables:t};return z.set(n,E),E}function Je(n,e){var t=ze(n),i=J(e),s=J(t.type);__DEV__?y(t.type===e,"Running a ".concat(i," requires a graphql ")+"".concat(i,", but a ").concat(s," was used instead.")):y(t.type===e,36)}var Xe=Object.prototype.hasOwnProperty;function nt(n,e){return e===void 0&&(e=Object.create(null)),Ze(Ke(e.client),n).useQuery(e)}function Ze(n,e){var t=x.exports.useRef();(!t.current||n!==t.current.client||e!==t.current.query)&&(t.current=new et(n,e,t.current));var i=t.current,s=x.exports.useState(0);s[0];var r=s[1];return i.forceUpdate=function(){r(function(o){return o+1})},i}var et=function(){function n(e,t,i){this.client=e,this.query=t,this.asyncResolveFns=new Set,this.optionsToIgnoreOnce=new(fe?WeakSet:Set),this.ssrDisabledResult=$({loading:!0,data:void 0,error:void 0,networkStatus:C.loading}),this.skipStandbyResult=$({loading:!1,data:void 0,error:void 0,networkStatus:C.ready}),this.toQueryResultCache=new(Ee?WeakMap:Map),Je(t,b.Query);var s=i&&i.result,r=s&&s.data;r&&(this.previousData=r)}return n.prototype.forceUpdate=function(){__DEV__&&y.warn("Calling default no-op implementation of InternalState#forceUpdate")},n.prototype.asyncUpdate=function(){var e=this;return new Promise(function(t){e.asyncResolveFns.add(t),e.optionsToIgnoreOnce.add(e.watchQueryOptions),e.forceUpdate()})},n.prototype.useQuery=function(e){var t=this;this.renderPromises=x.exports.useContext(ee()).renderPromises,this.useOptions(e);var i=this.useObservableQuery(),s=We(x.exports.useCallback(function(){if(t.renderPromises)return function(){};var o=function(){var l=t.result,p=i.getCurrentResult();l&&l.loading===p.loading&&l.networkStatus===p.networkStatus&&P(l.data,p.data)||t.setResult(p)},u=function(l){var p=i.last;h.unsubscribe();try{i.resetLastResults(),h=i.subscribe(o,u)}finally{i.last=p}if(!Xe.call(l,"graphQLErrors"))throw l;var d=t.result;(!d||d&&d.loading||!P(l,d.error))&&t.setResult({data:d&&d.data,error:l,loading:!1,networkStatus:C.error})},h=i.subscribe(o,u);return function(){return h.unsubscribe()}},[i,this.renderPromises,this.client.disableNetworkFetches]),function(){return t.getCurrentResult()},function(){return t.getCurrentResult()});this.unsafeHandlePartialRefetch(s);var r=this.toQueryResult(s);return!r.loading&&this.asyncResolveFns.size&&(this.asyncResolveFns.forEach(function(o){return o(r)}),this.asyncResolveFns.clear()),r},n.prototype.useOptions=function(e){var t,i=this.createWatchQueryOptions(this.queryHookOptions=e),s=this.watchQueryOptions;(this.optionsToIgnoreOnce.has(s)||!P(i,s))&&(this.watchQueryOptions=i,s&&this.observable&&(this.optionsToIgnoreOnce.delete(s),this.observable.reobserve(this.getObsQueryOptions()),this.previousData=((t=this.result)===null||t===void 0?void 0:t.data)||this.previousData,this.result=void 0)),this.onCompleted=e.onCompleted||n.prototype.onCompleted,this.onError=e.onError||n.prototype.onError,(this.renderPromises||this.client.disableNetworkFetches)&&this.queryHookOptions.ssr===!1&&!this.queryHookOptions.skip?this.result=this.ssrDisabledResult:this.queryHookOptions.skip||this.watchQueryOptions.fetchPolicy==="standby"?this.result=this.skipStandbyResult:(this.result===this.ssrDisabledResult||this.result===this.skipStandbyResult)&&(this.result=void 0)},n.prototype.getObsQueryOptions=function(){var e=[],t=this.client.defaultOptions.watchQuery;return t&&e.push(t),this.queryHookOptions.defaultOptions&&e.push(this.queryHookOptions.defaultOptions),e.push(ve(this.observable&&this.observable.options,this.watchQueryOptions)),e.reduce(me)},n.prototype.createWatchQueryOptions=function(e){var t;e===void 0&&(e={});var i=e.skip;e.ssr,e.onCompleted,e.onError,e.defaultOptions;var s=G(e,["skip","ssr","onCompleted","onError","defaultOptions"]),r=Object.assign(s,{query:this.query});if(this.renderPromises&&(r.fetchPolicy==="network-only"||r.fetchPolicy==="cache-and-network")&&(r.fetchPolicy="cache-first"),r.variables||(r.variables={}),i){var o=r.fetchPolicy,u=o===void 0?this.getDefaultFetchPolicy():o,h=r.initialFetchPolicy,l=h===void 0?u:h;Object.assign(r,{initialFetchPolicy:l,fetchPolicy:"standby"})}else r.fetchPolicy||(r.fetchPolicy=((t=this.observable)===null||t===void 0?void 0:t.options.initialFetchPolicy)||this.getDefaultFetchPolicy());return r},n.prototype.getDefaultFetchPolicy=function(){var e,t;return((e=this.queryHookOptions.defaultOptions)===null||e===void 0?void 0:e.fetchPolicy)||((t=this.client.defaultOptions.watchQuery)===null||t===void 0?void 0:t.fetchPolicy)||"cache-first"},n.prototype.onCompleted=function(e){},n.prototype.onError=function(e){},n.prototype.useObservableQuery=function(){var e=this.observable=this.renderPromises&&this.renderPromises.getSSRObservable(this.watchQueryOptions)||this.observable||this.client.watchQuery(this.getObsQueryOptions());this.obsQueryFields=x.exports.useMemo(function(){return{refetch:e.refetch.bind(e),reobserve:e.reobserve.bind(e),fetchMore:e.fetchMore.bind(e),updateQuery:e.updateQuery.bind(e),startPolling:e.startPolling.bind(e),stopPolling:e.stopPolling.bind(e),subscribeToMore:e.subscribeToMore.bind(e)}},[e]);var t=!(this.queryHookOptions.ssr===!1||this.queryHookOptions.skip);return this.renderPromises&&t&&(this.renderPromises.registerSSRObservable(e),e.getCurrentResult().loading&&this.renderPromises.addObservableQueryPromise(e)),e},n.prototype.setResult=function(e){var t=this.result;t&&t.data&&(this.previousData=t.data),this.result=e,this.forceUpdate(),this.handleErrorOrCompleted(e)},n.prototype.handleErrorOrCompleted=function(e){var t=this;e.loading||Promise.resolve().then(function(){e.error?t.onError(e.error):e.data&&t.onCompleted(e.data)}).catch(function(i){__DEV__&&y.warn(i)})},n.prototype.getCurrentResult=function(){return this.result||this.handleErrorOrCompleted(this.result=this.observable.getCurrentResult()),this.result},n.prototype.toQueryResult=function(e){var t=this.toQueryResultCache.get(e);if(t)return t;var i=e.data;e.partial;var s=G(e,["data","partial"]);return this.toQueryResultCache.set(e,t=M(M(M({data:i},s),this.obsQueryFields),{client:this.client,observable:this.observable,variables:this.observable.variables,called:!this.queryHookOptions.skip,previousData:this.previousData})),!t.error&&ye(e.errors)&&(t.error=new xe({graphQLErrors:e.errors})),t},n.prototype.unsafeHandlePartialRefetch=function(e){e.partial&&this.queryHookOptions.partialRefetch&&!e.loading&&(!e.data||Object.keys(e.data).length===0)&&this.observable.options.fetchPolicy!=="cache-only"&&(Object.assign(e,{loading:!0,networkStatus:C.refetch}),this.observable.refetch())},n}();export{b as D,Ke as a,A as g,nt as u,Je as v};
